<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CS Matrix â€” Campaign Support Matrix</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body class="theme-dark force-mobile-layout">
  <header>
    <div id="global-meters-header" class="global-meters" aria-label="Global meters">
      <div class="meter-row">
        <div class="meter-controls"><span class="meter-label">Collapse:</span><div class="meter-actions"><button id="global-minus-collapse">-</button><span id="global-meter-collapse-value" class="meter-value">0</span><button id="global-plus-collapse">+</button></div></div>
        <div class="meter-bars" id="ctrl-meter-collapse"></div>
      </div>
      <div class="meter-row">
        <div class="meter-controls"><span class="meter-label">Influence:</span><div class="meter-actions"><button id="global-minus-influence">-</button><span id="global-meter-influence-value" class="meter-value">0</span><button id="global-plus-influence">+</button></div></div>
        <div class="meter-bars" id="ctrl-meter-influence"></div>
      </div>
      <div class="meter-row">
        <div class="meter-controls"><span class="meter-label">Record:</span><div class="meter-actions"><button id="global-minus-record">-</button><span id="global-meter-record-value" class="meter-value">0</span><button id="global-plus-record">+</button></div></div>
        <div class="meter-bars" id="ctrl-meter-record"></div>
      </div>
    </div>
    <!-- HUD toggle moved into the canvas wrapper so it doesn't appear near meters -->
  </header>
  <main>
    <div class="action-bar">
      <button id="btn-toggle-controls" class="floating-toggle controls-toggle" aria-expanded="false">Show Controls</button>
      <button id="btn-toggle-nodes" class="floating-toggle nodes-toggle" aria-expanded="false">Show Nodes</button>
    </div>
    <section id="matrix">
      <!-- maximize button removed -->
      <div id="matrix-canvas-wrap">
        <svg id="matrix-svg" width="100%" viewBox="0 0 1000 1000" preserveAspectRatio="xMidYMid meet"></svg>
        <div class="quadrant-label quadrant-top-left"><span>Valuable</span><span>Risk</span></div>
        <div class="quadrant-label quadrant-top-right"><span>Target</span></div>
        <div class="quadrant-label quadrant-bottom-left"><span>Asset</span></div>
        <div class="quadrant-label quadrant-bottom-right"><span>Useful</span><span>Ghost</span></div>
        <!-- HUD and posture toggle buttons removed per request -->
        <!-- Node panel is embedded per-card in the node drawer; overlay removed -->
      </div>
    </section>
    <aside id="controls">
      <h3>Controls <button id="btn-hide-controls">Close</button></h3>
      <div class="control-row">
        <button id="btn-add-node">Add Node</button>
        <button id="btn-delete">Delete Selected</button>
      </div>
      <div class="control-row">
        <input type="file" id="import-file" accept="application/json" />
        <button id="btn-export">Export JSON</button>
        <button id="btn-reset">Reset</button>
      </div>
      <div class="panels">
        <!-- node-panel moved to be an overlay inside the canvas wrapper for better accessibility on small screens -->
      </div>
    </aside>
    <section id="node-list-section">
      <div class="node-list-header">
        <h3>Nodes</h3>
        <button id="btn-hide-nodes" aria-label="Close nodes">Close</button>
      </div>
      <div id="node-list" class="node-list" aria-live="polite"></div>
    </section>
  </main>
  <!-- Node panel overlay moved into canvas wrapper to embed within the graph visual area -->
  <footer>
  </footer>
  <script type="module" src="main.js"></script>
</body>
</html>
